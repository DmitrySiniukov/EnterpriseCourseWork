@model Enterprise.Models.PersonalAreaModel
@{
	ViewBag.Title = "Особистий кабінет";
	Layout = "~/Views/Shared/_Layout.cshtml";
	var roleId = Model.UserInfo.Role;
}

<h2>
	@string.Format("Особистий кабінет {0}", roleId == "engineer" ?
	"головного інженера" : "співробітника технологічного відділу")
</h2>
<p class="text-success">@ViewBag.StatusMessage</p>
<div>
	<h4 style="margin-top: 30px;">Функції</h4>
	<hr />
	<div class="form-group">
		<div class="col-md-offset-2" style="margin-bottom: 30px;">
			@switch (roleId)
			{
				case "technologist":
					@Html.ActionLink("Ведення продуктів", "EditProducts", "Manage", htmlAttributes: new { @class = "btn btn-default", @style = "margin-right: 10px;" }, routeValues: null)
					@Html.ActionLink("Ведення робіт", "EditTasks", "Manage", htmlAttributes: new { @class = "btn btn-default", @style = "margin-right: 10px;" }, routeValues: null)

					break;
				case "engineer":
					@Html.ActionLink("Ведення відділів", "EditDepartments", "Manage", htmlAttributes: new { @class = "btn btn-default", @style = "margin-right: 10px;" }, routeValues: null)
					@Html.ActionLink("Ведення приладів", "EditMachines", "Manage", htmlAttributes: new { @class = "btn btn-default", @style = "margin-right: 10px;" }, routeValues: null)
					break;
			}
		</div>
	</div>

	<h4>Особисті дані</h4>
	<hr />

	@Html.Partial("PersonalInfoPartial", Model.UserInfo)

	<dl class="dl-horizontal">
		<dt>Пароль:</dt>
		<dd>
			@if (Model.CommonData.HasPassword)
			{
				@Html.ActionLink("Зміна паролю", actionName: "ChangePassword", controllerName: "Manage", htmlAttributes: null, routeValues: null)
			}
			else
			{
				@Html.ActionLink("Створити пароль", actionName: "SetPassword", controllerName: "Manage", htmlAttributes: null, routeValues: null)
			}
		</dd>
	</dl>

</div>
